<nav class="flex justify-center gap-4" aria-label="Paginación">
  <button
    class="text-2xl"
    [ngClass]="results.page <= 1 ? 'opacity-20' : 'hover'"
    [routerLink]="['/search']"
    [queryParams]="{ query, page: results.page - 1 }"
    [disabled]="results.page <= 1"
    [attr.aria-label]="'Ir a la página ' + (results.page - 1)"
  >
    &lt;
  </button>

  <ul class="flex gap-2 items-center">
    <li *ngIf="results.page > 3">
      <button
        class="w-8 h-8 font-medium border-1 border-secondary rounded-xs hover:bg-accent hover:cursor-pointer"
        [routerLink]="['/search']"
        [queryParams]="{ query, page: 1 }"
        aria-label="Ir a la página 1"
      >
        1
      </button>
    </li>

    <li *ngIf="results.page > 3">
      <span aria-hidden="true">...</span>
    </li>

    <li *ngFor="let page of visiblePages">
      <button
        class="w-8 h-8 font-medium border-1 border-secondary rounded-xs"
        [ngClass]="
          page === results.page
            ? 'bg-accent'
            : 'hover:bg-accent hover:cursor-pointer'
        "
        [routerLink]="['/search']"
        [queryParams]="{ query, page: page }"
        [attr.aria-current]="page === results.page ? 'page' : null"
        [disabled]="page === results.page"
        [attr.aria-label]="
          page === results.page
            ? 'Página actual, página ' + page
            : 'Ir a la página ' + page
        "
      >
        {{ page }}
      </button>
    </li>

    <li *ngIf="results.page < results.total_pages - 2">
      <span aria-hidden="true">...</span>
    </li>

    <li *ngIf="results.page < results.total_pages - 2">
      <button
        class="w-8 h-8 font-medium border-1 border-secondary rounded-xs hover:bg-accent hover:cursor-pointer"
        [routerLink]="['/search']"
        [queryParams]="{ query, page: results.total_pages }"
        [attr.aria-label]="'Ir a la página ' + results.total_pages"
      >
        {{ results.total_pages }}
      </button>
    </li>
  </ul>

  <button
    class="text-2xl"
    [ngClass]="results.page >= results.total_pages ? 'opacity-20' : 'hover'"
    [routerLink]="['/search']"
    [queryParams]="{ query, page: results.page + 1 }"
    [disabled]="results.page >= results.total_pages"
    [attr.aria-label]="'Ir a la página ' + (results.page + 1)"
  >
    &gt;
  </button>
</nav>
